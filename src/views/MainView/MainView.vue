<template>
  <div class="main_container">
    <div class="section first_floor">
      <div class="book_overlay">
        <h2>ì˜¤ëŠ˜ í•˜ë£¨ë„ ì˜ ê¸°ë¡í•´ë³´ì…¨ë‚˜ìš”?</h2>
        <p>ê¸°ë¡ì€ ë‚˜ë¥¼ ì´í•´í•˜ëŠ” ì²«ê±¸ìŒì´ì—ìš” âœï¸</p>
        <RouterLink to="/diary" class="write_button">ê¸°ë¡í•˜ê¸°</RouterLink>
      </div>
    </div>

    <div class="section second_floor">
      <div class="small_card">
        <h3>ì´ë²ˆ ì£¼ ê¸°ë¡ ìš”ì¼</h3>
        <div class="weekly_progress">
          <div class="day_box" v-for="(day, index) in week" :key="index">
            <span>{{ day.label }}</span>
            <div class="dot" :class="{ active: day.written }"></div>
          </div>
          <div class="progress_text">
            ì§„í–‰ë„: {{ writtenCount }}/7ì¼ ({{
              Math.round((writtenCount / 7) * 100)
            }}%)
          </div>
        </div>
      </div>

      <div class="small_card">
        <h3>ê°ì • ìš”ì•½</h3>
        <p>ì´ë²ˆ ì£¼ëŠ” ì „ë°˜ì ìœ¼ë¡œ ì°¨ë¶„í•˜ê³  ì•ˆì •ì ì¸ ê°ì • ìƒíƒœì˜€ì–´ìš”.</p>
      </div>

      <div class="small_card">
        <h3>ì´ ì‘ì„±í•œ ë‹¤ì´ì–´ë¦¬</h3>
        <p>ì´ 48ê°œì˜ ë‹¤ì´ì–´ë¦¬ë¥¼ ì‘ì„±í–ˆì–´ìš” ğŸ“˜</p>
      </div>
    </div>

    <div class="section third_floor">
      <div class="medium_card">
        <h3>ë‚´ ì„±ê²© & ì„±í–¥</h3>
        <p>
          ë‹¹ì‹ ì€ ê°ì •ì— ë¯¼ê°í•˜ê³  ì‚¬ë ¤ ê¹Šì€ íƒ€ì…ì…ë‹ˆë‹¤. ìê¸° ì„±ì°°ì´ ê°•í•˜ê³  íƒ€ì¸ì˜
          ê°ì •ì— ê³µê°í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. ë•Œë¡œëŠ” íƒ€ì¸ì˜ ê¸°ë¶„ì— ì˜í–¥ì„ ë§ì´
          ë°›ì„ ìˆ˜ ìˆì–´ í˜¼ìë§Œì˜ ì‹œê°„ì´ í•„ìš”í•  ë•Œë„ ìˆìŠµë‹ˆë‹¤. ê¸€ì„ ì“°ëŠ” í–‰ìœ„ë‚˜
          ë‚´ë©´ì„ ì •ë¦¬í•˜ëŠ” ë£¨í‹´ì´ ì„±í–¥ê³¼ ì˜ ë§ìœ¼ë©°, ê°ì •ì„ ì •ë¦¬í•  ë•Œ ë§ˆìŒì˜
          í‰í™”ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì„±í–¥ì€ íƒ€ì¸ì—ê²Œ ìœ„ë¡œë¥¼ ì£¼ëŠ” ì—­í• ì„
          í•˜ê¸°ë„ í•©ë‹ˆë‹¤.
        </p>
      </div>

      <div class="medium_card">
        <h3>ì¶”ì²œ í–‰ë™</h3>
        <p>
          ì´ë²ˆ ì£¼ì—ëŠ” ê°ì •ì„ ê¸€ë¡œ í‘œí˜„í•´ë³´ê±°ë‚˜, ê°€ê¹Œìš´ ì‚¬ëŒì—ê²Œ í¸ì§€ë¥¼ ì¨ë³´ëŠ” ê±¸
          ì¶”ì²œë“œë ¤ìš”. ê°ì •ì  ê· í˜•ì— ë„ì›€ì´ ë©ë‹ˆë‹¤. ë˜í•œ ë‚˜ë§Œì˜ ë£¨í‹´ì„ ë§Œë“¤ì–´ë³´ëŠ”
          ê²ƒë„ ì¢‹ì•„ìš”. ë§¤ì¼ ê°™ì€ ì‹œê°„ì— ì§§ì€ ê¸€ì“°ê¸°, ëª…ìƒ, ì‚°ì±… ë“±ì„
          ì‹œë„í•´ë³´ì„¸ìš”. ë°˜ë³µë˜ëŠ” ìê¸° ê´€ë¦¬ í™œë™ì€ ë‚´ë©´ì˜ ì•ˆì •ê°ì„ í¬ê²Œ ë†’ì—¬ì¤„ ìˆ˜
          ìˆìŠµë‹ˆë‹¤.
        </p>
      </div>
    </div>
  </div>
</template>

<script setup>
import { RouterLink } from "vue-router";
import { computed } from "vue";

const week = [
  { label: "ì›”", written: true },
  { label: "í™”", written: true },
  { label: "ìˆ˜", written: false },
  { label: "ëª©", written: true },
  { label: "ê¸ˆ", written: false },
  { label: "í† ", written: false },
  { label: "ì¼", written: true },
];

const writtenCount = computed(() => week.filter((d) => d.written).length);
</script>

<style scoped>
.main_container {
  padding-top: 60px;
  font-family: "Georgia", serif;
  background-color: #fdf9f3;
  min-height: 100vh;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.section {
  margin: 0 10%;
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
}

.first_floor {
  height: 60vh;
  margin: 0;
  background-image: url("@/assets/bg-main.jpg");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 100%;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  display: flex;
  position: relative;
  z-index: 0;
}

.first_floor::after {
  content: ""; /* í•„ìˆ˜ */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(40, 40, 40, 0.5); /* ì–´ë‘¡ê²Œ */
  backdrop-filter: blur(1px); /* ë¸”ëŸ¬ ê°•ë„ */
  z-index: 1;
}

.book_overlay {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: rgba(30, 20, 10, 0.5);
  border-radius: 16px;
  text-align: center;
  color: #fff;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.3);
  width: 30%;
  height: 40%;
  z-index: 2;
}

.book_overlay h2 {
  font-size: 20px;
  margin-bottom: 8px;
  font-family: "Georgia", serif;
}

.book_overlay p {
  font-size: 14px;
  opacity: 0.9;
  margin-bottom: 16px;
}

.second_floor {
  justify-content: space-between;
}

.third_floor {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 40px;
}

.write_button {
  background-color: #5e4638;
  color: #fdf9f3;
  padding: 10px 20px;
  border-radius: 20px;
  text-decoration: none;
  font-size: 14px;
  transition: background-color 0.2s;
}

.write_button:hover {
  background-color: #3f2e24;
}

.small_card {
  background-color: #fff6ea;
  padding: 20px;
  border-radius: 12px;
  border: 1.5px solid #5e4638;
  box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.08);
  font-size: 15px;
  flex: 1;
  min-width: 260px;
}

.medium_card {
  background-color: #fff;
  padding: 20px;
  border-radius: 12px;
  border: 1.5px solid #5e4638;
  box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.08);
  font-size: 15px;
}

.weekly_progress {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
  margin-top: 10px;
}

.day_box {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 14px;
  color: #5e4638;
}

.dot {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background-color: #ddd;
}

.dot.active {
  background-color: #5e4638;
}

.progress_text {
  font-size: 13px;
  margin-left: 12px;
  color: #5e4638;
}
</style>
